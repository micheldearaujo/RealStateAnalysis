"0","# Ordendando o dataframe de acordo com a média dos preços"
"0","anunciosg <- arrange(anunciosg, MediaPreco)"
"0",""
"0","# Calculando a proporção entre salário e aluguel medios"
"0","anunciosg <- mutate(anunciosg, Proporcao = anunciosg$MediaPreco/anunciosg$MediaSalario)"
"0",""
"0","# Criando um barplot na horizontal que mostra tanto o valor médio do aluguel"
"0","# quanto a porcentagem que um aluguel médio custa do salário médio, para cada estado"
"0",""
"0","bar2 <- plot_ly(data=anunciosg, type='bar',"
"0","                orientation='h',"
"0","                color=~Proporcao, # As cores mostram o valor da proporção, que vai de 0 a 1."
"0","                colors=) %>%"
"0","  add_trace(y=~Estado,"
"0","            x=~MediaPreco,"
"0","            name='Preco') %>%"
"0","  add_annotations(xref=anunciosg$MediaPreco, yref=anunciosg$Estado,    # Adicionando as porcentagens ao gráfico"
"0","                  y=anunciosg$Estado, x=anunciosg$MediaPreco*1 + 200,"
"0","                  text=paste(round(anunciosg$Proporcao, 2)*100, '%'),"
"0","                  showarrow=F) %>%"
"0","  layout(title='Proporção entre valor médio de aluguel e salário médio',"
"0","  xaxis=list(title='Preço Aluguel'),"
"0","  yaxis=list(title='Estado'),"
"0","  width=700)"
"0","bar2"
